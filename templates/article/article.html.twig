{% extends 'base.html.twig' %}

{% block title %}Liste des Articles{% endblock %}

{% block body %}
    <h1>{{ article.titre }}</h1>
   <div class="mb-4"> <p class="fst-italic">Créé le : {{ article.createdAt |date("d/m/Y")}}</p>
       {% if article.categorie is not empty %}
       <a href="{{ path('app_categorie_slug',{'slug': article.categorie.slug}) }}" class="badge bagde-dark bg-secondary text-decoration-none">{{ article.categorie.titre | upper }}</a>{# Chargement paresseux -> Lazy Loading#}
       {% else %}
           <p class="badge bagde-dark bg-secondary ">Aucune Catégorie</p>
       {% endif %}
   </div>
    <div>
    <p>{{ article.contenu }} </p></div>

    <h3 class="mt-5">Commentaires ( {{ article.commentaires.count }} )</h3>
<div class="row mt-3">
    {% for commentaire in article.commentaires %}
        <div class="col-6">
            <p class="h5 fst-bolder">
                {% if commentaire.utilisateur is not empty %}
                {{ commentaire.utilisateur.pseudo | upper}}
                {% else %}
                    Anonyme
                {% endif %}
            </p>
        <p class="mt-1">{{ commentaire.contenu }} </p>
        <p class="fst-italic">{{ commentaire.createdAt | date("d/m/Y") }}</p>
        </div>
    {% endfor %}</div>
{% endblock %}
